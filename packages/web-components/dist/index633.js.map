{"version":3,"file":"index633.js","sources":["../../../node_modules/.pnpm/side-channel-map@1.0.1/node_modules/side-channel-map/index.js"],"sourcesContent":["'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $Map = GetIntrinsic('%Map%', true);\n\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => V} */\nvar $mapGet = callBound('Map.prototype.get', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K, value: V) => void} */\nvar $mapSet = callBound('Map.prototype.set', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapHas = callBound('Map.prototype.has', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapDelete = callBound('Map.prototype.delete', true);\n/** @type {<K, V>(thisArg: Map<K, V>) => number} */\nvar $mapSize = callBound('Map.prototype.size', true);\n\n/** @type {import('.')} */\nmodule.exports = !!$Map && /** @type {Exclude<import('.'), false>} */ function getSideChannelMap() {\n\t/** @typedef {ReturnType<typeof getSideChannelMap>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {Map<K, V> | undefined} */ var $m;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tif ($m) {\n\t\t\t\tvar result = $mapDelete($m, key);\n\t\t\t\tif ($mapSize($m) === 0) {\n\t\t\t\t\t$m = void undefined;\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($m) {\n\t\t\t\treturn $mapGet($m, key);\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($m) {\n\t\t\t\treturn $mapHas($m, key);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$m) {\n\t\t\t\t// @ts-expect-error TS can't handle narrowing a variable inside a closure\n\t\t\t\t$m = new $Map();\n\t\t\t}\n\t\t\t$mapSet($m, key, value);\n\t\t}\n\t};\n\n\t// @ts-expect-error TODO: figure out why TS is erroring here\n\treturn channel;\n};\n"],"names":["GetIntrinsic","require$$0","callBound","require$$1","inspect","require$$2","$TypeError","require$$3","$Map","$mapGet","$mapSet","$mapHas","$mapDelete","$mapSize","sideChannelMap","$m","channel","key","result","value"],"mappings":";;;;AAEA,IAAIA,IAAeC,GACfC,IAAYC,GACZC,IAAUC,GAEVC,IAAaC,GACbC,IAAOR,EAAa,SAAS,EAAI,GAGjCS,IAAUP,EAAU,qBAAqB,EAAI,GAE7CQ,IAAUR,EAAU,qBAAqB,EAAI,GAE7CS,IAAUT,EAAU,qBAAqB,EAAI,GAE7CU,IAAaV,EAAU,wBAAwB,EAAI,GAEnDW,IAAWX,EAAU,sBAAsB,EAAI,GAGnDY,IAAiB,CAAC,CAACN;AAAmD,WAA6B;AAK7D,MAAIO,GAGrCC,IAAU;AAAA,IACb,QAAQ,SAAUC,GAAK;AACtB,UAAI,CAACD,EAAQ,IAAIC,CAAG;AACnB,cAAM,IAAIX,EAAW,mCAAmCF,EAAQa,CAAG,CAAC;AAAA,IAErE;AAAA,IACD,QAAU,SAAUA,GAAK;AACxB,UAAIF,GAAI;AACP,YAAIG,IAASN,EAAWG,GAAIE,CAAG;AAC/B,eAAIJ,EAASE,CAAE,MAAM,MACpBA,IAAK,SAECG;AAAA,MACP;AACD,aAAO;AAAA,IACP;AAAA,IACD,KAAK,SAAUD,GAAK;AACnB,UAAIF;AACH,eAAON,EAAQM,GAAIE,CAAG;AAAA,IAEvB;AAAA,IACD,KAAK,SAAUA,GAAK;AACnB,aAAIF,IACIJ,EAAQI,GAAIE,CAAG,IAEhB;AAAA,IACP;AAAA,IACD,KAAK,SAAUA,GAAKE,GAAO;AAC1B,MAAKJ,MAEJA,IAAK,IAAIP,MAEVE,EAAQK,GAAIE,GAAKE,CAAK;AAAA,IACtB;AAAA,EACH;AAGC,SAAOH;AACR;","x_google_ignoreList":[0]}