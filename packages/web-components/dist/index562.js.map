{"version":3,"file":"index562.js","sources":["../../../node_modules/.pnpm/pixi.js@8.8.1/node_modules/pixi.js/lib/scene/text-bitmap/BitmapFont.mjs"],"sourcesContent":["import { Rectangle } from '../../maths/shapes/Rectangle.mjs';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture.mjs';\nimport { AbstractBitmapFont } from './AbstractBitmapFont.mjs';\nimport { BitmapFontManager } from './BitmapFontManager.mjs';\n\n\"use strict\";\nclass BitmapFont extends AbstractBitmapFont {\n  constructor(options, url) {\n    super();\n    const { textures, data } = options;\n    Object.keys(data.pages).forEach((key) => {\n      const pageData = data.pages[parseInt(key, 10)];\n      const texture = textures[pageData.id];\n      this.pages.push({ texture });\n    });\n    Object.keys(data.chars).forEach((key) => {\n      const charData = data.chars[key];\n      const {\n        frame: textureFrame,\n        source: textureSource\n      } = textures[charData.page];\n      const frameReal = new Rectangle(\n        charData.x + textureFrame.x,\n        charData.y + textureFrame.y,\n        charData.width,\n        charData.height\n      );\n      const texture = new Texture({\n        source: textureSource,\n        frame: frameReal\n      });\n      this.chars[key] = {\n        id: key.codePointAt(0),\n        xOffset: charData.xOffset,\n        yOffset: charData.yOffset,\n        xAdvance: charData.xAdvance,\n        kerning: charData.kerning ?? {},\n        texture\n      };\n    });\n    this.baseRenderedFontSize = data.fontSize;\n    this.baseMeasurementFontSize = data.fontSize;\n    this.fontMetrics = {\n      ascent: 0,\n      descent: 0,\n      fontSize: data.fontSize\n    };\n    this.baseLineOffset = data.baseLineOffset;\n    this.lineHeight = data.lineHeight;\n    this.fontFamily = data.fontFamily;\n    this.distanceField = data.distanceField ?? {\n      type: \"none\",\n      range: 0\n    };\n    this.url = url;\n  }\n  /** Destroys the BitmapFont object. */\n  destroy() {\n    super.destroy();\n    for (let i = 0; i < this.pages.length; i++) {\n      const { texture } = this.pages[i];\n      texture.destroy(true);\n    }\n    this.pages = null;\n  }\n  /**\n   * Generates a bitmap-font for the given style and character set\n   * @param options - Setup options for font generation.\n   * @returns Font generated by style options.\n   * @example\n   * import { BitmapFont, BitmapText } from 'pixi.js';\n   *\n   * BitmapFont.install('TitleFont', {\n   *     fontFamily: 'Arial',\n   *     fontSize: 12,\n   *     strokeThickness: 2,\n   *     fill: 'purple',\n   * });\n   *\n   * const title = new BitmapText({ text: 'This is the title', fontFamily: 'TitleFont' });\n   */\n  static install(options) {\n    BitmapFontManager.install(options);\n  }\n  /**\n   * Uninstalls a bitmap font from the cache.\n   * @param {string} name - The name of the bitmap font to uninstall.\n   */\n  static uninstall(name) {\n    BitmapFontManager.uninstall(name);\n  }\n}\n\nexport { BitmapFont };\n//# sourceMappingURL=BitmapFont.mjs.map\n"],"names":["BitmapFont","AbstractBitmapFont","options","url","textures","data","key","pageData","texture","charData","textureFrame","textureSource","frameReal","Rectangle","Texture","i","BitmapFontManager","name"],"mappings":";;;;AAMA,MAAMA,UAAmBC,EAAmB;AAAA,EAC1C,YAAYC,GAASC,GAAK;AACxB;AACA,UAAM,EAAE,UAAAC,GAAU,MAAAC,EAAM,IAAGH;AAC3B,WAAO,KAAKG,EAAK,KAAK,EAAE,QAAQ,CAACC,MAAQ;AACvC,YAAMC,IAAWF,EAAK,MAAM,SAASC,GAAK,EAAE,CAAC,GACvCE,IAAUJ,EAASG,EAAS,EAAE;AACpC,WAAK,MAAM,KAAK,EAAE,SAAAC,EAAS,CAAA;AAAA,IACjC,CAAK,GACD,OAAO,KAAKH,EAAK,KAAK,EAAE,QAAQ,CAACC,MAAQ;AACvC,YAAMG,IAAWJ,EAAK,MAAMC,CAAG,GACzB;AAAA,QACJ,OAAOI;AAAA,QACP,QAAQC;AAAA,MAChB,IAAUP,EAASK,EAAS,IAAI,GACpBG,IAAY,IAAIC;AAAA,QACpBJ,EAAS,IAAIC,EAAa;AAAA,QAC1BD,EAAS,IAAIC,EAAa;AAAA,QAC1BD,EAAS;AAAA,QACTA,EAAS;AAAA,MACjB,GACYD,IAAU,IAAIM,EAAQ;AAAA,QAC1B,QAAQH;AAAA,QACR,OAAOC;AAAA,MACf,CAAO;AACD,WAAK,MAAMN,CAAG,IAAI;AAAA,QAChB,IAAIA,EAAI,YAAY,CAAC;AAAA,QACrB,SAASG,EAAS;AAAA,QAClB,SAASA,EAAS;AAAA,QAClB,UAAUA,EAAS;AAAA,QACnB,SAASA,EAAS,WAAW,CAAE;AAAA,QAC/B,SAAAD;AAAA,MACR;AAAA,IACA,CAAK,GACD,KAAK,uBAAuBH,EAAK,UACjC,KAAK,0BAA0BA,EAAK,UACpC,KAAK,cAAc;AAAA,MACjB,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,UAAUA,EAAK;AAAA,IACrB,GACI,KAAK,iBAAiBA,EAAK,gBAC3B,KAAK,aAAaA,EAAK,YACvB,KAAK,aAAaA,EAAK,YACvB,KAAK,gBAAgBA,EAAK,iBAAiB;AAAA,MACzC,MAAM;AAAA,MACN,OAAO;AAAA,IACb,GACI,KAAK,MAAMF;AAAA,EACZ;AAAA;AAAA,EAED,UAAU;AACR,UAAM,QAAO;AACb,aAASY,IAAI,GAAGA,IAAI,KAAK,MAAM,QAAQA,KAAK;AAC1C,YAAM,EAAE,SAAAP,EAAS,IAAG,KAAK,MAAMO,CAAC;AAChC,MAAAP,EAAQ,QAAQ,EAAI;AAAA,IACrB;AACD,SAAK,QAAQ;AAAA,EACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAiBD,OAAO,QAAQN,GAAS;AACtB,IAAAc,EAAkB,QAAQd,CAAO;AAAA,EAClC;AAAA;AAAA;AAAA;AAAA;AAAA,EAKD,OAAO,UAAUe,GAAM;AACrB,IAAAD,EAAkB,UAAUC,CAAI;AAAA,EACjC;AACH;","x_google_ignoreList":[0]}