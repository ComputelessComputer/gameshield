{"version":3,"file":"index608.js","sources":["../../../node_modules/.pnpm/@pixi+text-bitmap@7.4.3_@pixi+assets@7.4.3_@pixi+core@7.4.3__@pixi+core@7.4.3_@pixi+dis_e8d16dc3b3f9170908692deae8697d60/node_modules/@pixi/text-bitmap/lib/utils/generateFillStyle.mjs"],"sourcesContent":["import { TEXT_GRADIENT } from \"@pixi/text\";\nfunction generateFillStyle(canvas, context, style, resolution, lines, metrics) {\n  const fillStyle = style.fill;\n  if (Array.isArray(fillStyle)) {\n    if (fillStyle.length === 1)\n      return fillStyle[0];\n  } else\n    return fillStyle;\n  let gradient;\n  const dropShadowCorrection = style.dropShadow ? style.dropShadowDistance : 0, padding = style.padding || 0, width = canvas.width / resolution - dropShadowCorrection - padding * 2, height = canvas.height / resolution - dropShadowCorrection - padding * 2, fill = fillStyle.slice(), fillGradientStops = style.fillGradientStops.slice();\n  if (!fillGradientStops.length) {\n    const lengthPlus1 = fill.length + 1;\n    for (let i = 1; i < lengthPlus1; ++i)\n      fillGradientStops.push(i / lengthPlus1);\n  }\n  if (fill.unshift(fillStyle[0]), fillGradientStops.unshift(0), fill.push(fillStyle[fillStyle.length - 1]), fillGradientStops.push(1), style.fillGradientType === TEXT_GRADIENT.LINEAR_VERTICAL) {\n    gradient = context.createLinearGradient(width / 2, padding, width / 2, height + padding);\n    let lastIterationStop = 0;\n    const gradStopLineHeight = (metrics.fontProperties.fontSize + style.strokeThickness) / height;\n    for (let i = 0; i < lines.length; i++) {\n      const thisLineTop = metrics.lineHeight * i;\n      for (let j = 0; j < fill.length; j++) {\n        let lineStop = 0;\n        typeof fillGradientStops[j] == \"number\" ? lineStop = fillGradientStops[j] : lineStop = j / fill.length;\n        const globalStop = thisLineTop / height + lineStop * gradStopLineHeight;\n        let clampedStop = Math.max(lastIterationStop, globalStop);\n        clampedStop = Math.min(clampedStop, 1), gradient.addColorStop(clampedStop, fill[j]), lastIterationStop = clampedStop;\n      }\n    }\n  } else {\n    gradient = context.createLinearGradient(padding, height / 2, width + padding, height / 2);\n    const totalIterations = fill.length + 1;\n    let currentIteration = 1;\n    for (let i = 0; i < fill.length; i++) {\n      let stop;\n      typeof fillGradientStops[i] == \"number\" ? stop = fillGradientStops[i] : stop = currentIteration / totalIterations, gradient.addColorStop(stop, fill[i]), currentIteration++;\n    }\n  }\n  return gradient;\n}\nexport {\n  generateFillStyle\n};\n//# sourceMappingURL=generateFillStyle.mjs.map\n"],"names":["generateFillStyle","canvas","context","style","resolution","lines","metrics","fillStyle","gradient","dropShadowCorrection","padding","width","height","fill","fillGradientStops","lengthPlus1","i","TEXT_GRADIENT","lastIterationStop","gradStopLineHeight","thisLineTop","j","lineStop","globalStop","clampedStop","totalIterations","currentIteration","stop"],"mappings":";;;;AACA,SAASA,EAAkBC,GAAQC,GAASC,GAAOC,GAAYC,GAAOC,GAAS;AAC7E,QAAMC,IAAYJ,EAAM;AACxB,MAAI,MAAM,QAAQI,CAAS;AACzB,QAAIA,EAAU,WAAW;AACvB,aAAOA,EAAU,CAAC;AAAA;AAEpB,WAAOA;AACT,MAAIC;AACJ,QAAMC,IAAuBN,EAAM,aAAaA,EAAM,qBAAqB,GAAGO,IAAUP,EAAM,WAAW,GAAGQ,IAAQV,EAAO,QAAQG,IAAaK,IAAuBC,IAAU,GAAGE,IAASX,EAAO,SAASG,IAAaK,IAAuBC,IAAU,GAAGG,IAAON,EAAU,MAAK,GAAIO,IAAoBX,EAAM,kBAAkB;AACpU,MAAI,CAACW,EAAkB,QAAQ;AAC7B,UAAMC,IAAcF,EAAK,SAAS;AAClC,aAASG,IAAI,GAAGA,IAAID,GAAa,EAAEC;AACjC,MAAAF,EAAkB,KAAKE,IAAID,CAAW;AAAA,EACzC;AACD,MAAIF,EAAK,QAAQN,EAAU,CAAC,CAAC,GAAGO,EAAkB,QAAQ,CAAC,GAAGD,EAAK,KAAKN,EAAUA,EAAU,SAAS,CAAC,CAAC,GAAGO,EAAkB,KAAK,CAAC,GAAGX,EAAM,qBAAqBc,EAAc,iBAAiB;AAC7L,IAAAT,IAAWN,EAAQ,qBAAqBS,IAAQ,GAAGD,GAASC,IAAQ,GAAGC,IAASF,CAAO;AACvF,QAAIQ,IAAoB;AACxB,UAAMC,KAAsBb,EAAQ,eAAe,WAAWH,EAAM,mBAAmBS;AACvF,aAASI,IAAI,GAAGA,IAAIX,EAAM,QAAQW,KAAK;AACrC,YAAMI,IAAcd,EAAQ,aAAaU;AACzC,eAASK,IAAI,GAAGA,IAAIR,EAAK,QAAQQ,KAAK;AACpC,YAAIC,IAAW;AACf,eAAOR,EAAkBO,CAAC,KAAK,WAAWC,IAAWR,EAAkBO,CAAC,IAAIC,IAAWD,IAAIR,EAAK;AAChG,cAAMU,IAAaH,IAAcR,IAASU,IAAWH;AACrD,YAAIK,IAAc,KAAK,IAAIN,GAAmBK,CAAU;AACxD,QAAAC,IAAc,KAAK,IAAIA,GAAa,CAAC,GAAGhB,EAAS,aAAagB,GAAaX,EAAKQ,CAAC,CAAC,GAAGH,IAAoBM;AAAA,MAC1G;AAAA,IACF;AAAA,EACL,OAAS;AACL,IAAAhB,IAAWN,EAAQ,qBAAqBQ,GAASE,IAAS,GAAGD,IAAQD,GAASE,IAAS,CAAC;AACxF,UAAMa,IAAkBZ,EAAK,SAAS;AACtC,QAAIa,IAAmB;AACvB,aAASV,IAAI,GAAGA,IAAIH,EAAK,QAAQG,KAAK;AACpC,UAAIW;AACJ,aAAOb,EAAkBE,CAAC,KAAK,WAAWW,IAAOb,EAAkBE,CAAC,IAAIW,IAAOD,IAAmBD,GAAiBjB,EAAS,aAAamB,GAAMd,EAAKG,CAAC,CAAC,GAAGU;AAAA,IAC1J;AAAA,EACF;AACD,SAAOlB;AACT;","x_google_ignoreList":[0]}