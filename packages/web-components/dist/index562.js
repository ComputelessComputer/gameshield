import { Rectangle as l } from "./index407.js";
import { Texture as p } from "./index360.js";
import { AbstractBitmapFont as u } from "./index558.js";
import { BitmapFontManager as o } from "./index563.js";
class F extends u {
  constructor(s, i) {
    super();
    const { textures: r, data: t } = s;
    Object.keys(t.pages).forEach((n) => {
      const e = t.pages[parseInt(n, 10)], a = r[e.id];
      this.pages.push({ texture: a });
    }), Object.keys(t.chars).forEach((n) => {
      const e = t.chars[n], {
        frame: a,
        source: c
      } = r[e.page], f = new l(
        e.x + a.x,
        e.y + a.y,
        e.width,
        e.height
      ), h = new p({
        source: c,
        frame: f
      });
      this.chars[n] = {
        id: n.codePointAt(0),
        xOffset: e.xOffset,
        yOffset: e.yOffset,
        xAdvance: e.xAdvance,
        kerning: e.kerning ?? {},
        texture: h
      };
    }), this.baseRenderedFontSize = t.fontSize, this.baseMeasurementFontSize = t.fontSize, this.fontMetrics = {
      ascent: 0,
      descent: 0,
      fontSize: t.fontSize
    }, this.baseLineOffset = t.baseLineOffset, this.lineHeight = t.lineHeight, this.fontFamily = t.fontFamily, this.distanceField = t.distanceField ?? {
      type: "none",
      range: 0
    }, this.url = i;
  }
  /** Destroys the BitmapFont object. */
  destroy() {
    super.destroy();
    for (let s = 0; s < this.pages.length; s++) {
      const { texture: i } = this.pages[s];
      i.destroy(!0);
    }
    this.pages = null;
  }
  /**
   * Generates a bitmap-font for the given style and character set
   * @param options - Setup options for font generation.
   * @returns Font generated by style options.
   * @example
   * import { BitmapFont, BitmapText } from 'pixi.js';
   *
   * BitmapFont.install('TitleFont', {
   *     fontFamily: 'Arial',
   *     fontSize: 12,
   *     strokeThickness: 2,
   *     fill: 'purple',
   * });
   *
   * const title = new BitmapText({ text: 'This is the title', fontFamily: 'TitleFont' });
   */
  static install(s) {
    o.install(s);
  }
  /**
   * Uninstalls a bitmap font from the cache.
   * @param {string} name - The name of the bitmap font to uninstall.
   */
  static uninstall(s) {
    o.uninstall(s);
  }
}
export {
  F as BitmapFont
};
//# sourceMappingURL=index562.js.map
