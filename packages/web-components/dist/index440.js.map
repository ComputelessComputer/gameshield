{"version":3,"file":"index440.js","sources":["../../../node_modules/.pnpm/pixi.js@8.8.1/node_modules/pixi.js/lib/rendering/high-shader/compiler/utils/compileOutputs.mjs"],"sourcesContent":["\"use strict\";\nfunction extractOutputs(fragmentSource, out) {\n  let match;\n  const regex = /@out\\s+([^;]+);/g;\n  while ((match = regex.exec(fragmentSource)) !== null) {\n    out.push(match[1]);\n  }\n}\nfunction extractVariableName(value) {\n  const regex = /\\b(\\w+)\\s*:/g;\n  const match = regex.exec(value);\n  return match ? match[1] : \"\";\n}\nfunction stripVariable(value) {\n  const regex = /@.*?\\s+/g;\n  return value.replace(regex, \"\");\n}\nfunction compileOutputs(fragments, template) {\n  const results = [];\n  extractOutputs(template, results);\n  fragments.forEach((fragment) => {\n    if (fragment.header) {\n      extractOutputs(fragment.header, results);\n    }\n  });\n  let index = 0;\n  const mainStruct = results.sort().map((inValue) => {\n    if (inValue.indexOf(\"builtin\") > -1) {\n      return inValue;\n    }\n    return `@location(${index++}) ${inValue}`;\n  }).join(\",\\n\");\n  const mainStart = results.sort().map((inValue) => `       var ${stripVariable(inValue)};`).join(\"\\n\");\n  const mainEnd = `return VSOutput(\n            ${results.sort().map((inValue) => ` ${extractVariableName(inValue)}`).join(\",\\n\")});`;\n  let compiledCode = template.replace(/@out\\s+[^;]+;\\s*/g, \"\");\n  compiledCode = compiledCode.replace(\"{{struct}}\", `\n${mainStruct}\n`);\n  compiledCode = compiledCode.replace(\"{{start}}\", `\n${mainStart}\n`);\n  compiledCode = compiledCode.replace(\"{{return}}\", `\n${mainEnd}\n`);\n  return compiledCode;\n}\n\nexport { compileOutputs };\n//# sourceMappingURL=compileOutputs.mjs.map\n"],"names":["extractOutputs","fragmentSource","out","match","regex","extractVariableName","value","stripVariable","compileOutputs","fragments","template","results","fragment","index","mainStruct","inValue","mainStart","mainEnd","compiledCode"],"mappings":"AACA,SAASA,EAAeC,GAAgBC,GAAK;AAC3C,MAAIC;AACJ,QAAMC,IAAQ;AACd,UAAQD,IAAQC,EAAM,KAAKH,CAAc,OAAO;AAC9C,IAAAC,EAAI,KAAKC,EAAM,CAAC,CAAC;AAErB;AACA,SAASE,EAAoBC,GAAO;AAElC,QAAMH,IADQ,eACM,KAAKG,CAAK;AAC9B,SAAOH,IAAQA,EAAM,CAAC,IAAI;AAC5B;AACA,SAASI,EAAcD,GAAO;AAC5B,QAAMF,IAAQ;AACd,SAAOE,EAAM,QAAQF,GAAO,EAAE;AAChC;AACA,SAASI,EAAeC,GAAWC,GAAU;AAC3C,QAAMC,IAAU,CAAA;AAChB,EAAAX,EAAeU,GAAUC,CAAO,GAChCF,EAAU,QAAQ,CAACG,MAAa;AAC9B,IAAIA,EAAS,UACXZ,EAAeY,EAAS,QAAQD,CAAO;AAAA,EAE7C,CAAG;AACD,MAAIE,IAAQ;AACZ,QAAMC,IAAaH,EAAQ,KAAM,EAAC,IAAI,CAACI,MACjCA,EAAQ,QAAQ,SAAS,IAAI,KACxBA,IAEF,aAAaF,GAAO,KAAKE,CAAO,EACxC,EAAE,KAAK;AAAA,CAAK,GACPC,IAAYL,EAAQ,KAAM,EAAC,IAAI,CAACI,MAAY,cAAcR,EAAcQ,CAAO,CAAC,GAAG,EAAE,KAAK;AAAA,CAAI,GAC9FE,IAAU;AAAA,cACJN,EAAQ,KAAM,EAAC,IAAI,CAACI,MAAY,IAAIV,EAAoBU,CAAO,CAAC,EAAE,EAAE,KAAK;AAAA,CAAK,CAAC;AAC3F,MAAIG,IAAeR,EAAS,QAAQ,qBAAqB,EAAE;AAC3D,SAAAQ,IAAeA,EAAa,QAAQ,cAAc;AAAA,EAClDJ,CAAU;AAAA,CACX,GACCI,IAAeA,EAAa,QAAQ,aAAa;AAAA,EACjDF,CAAS;AAAA,CACV,GACCE,IAAeA,EAAa,QAAQ,cAAc;AAAA,EAClDD,CAAO;AAAA,CACR,GACQC;AACT;","x_google_ignoreList":[0]}