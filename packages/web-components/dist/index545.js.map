{"version":3,"file":"index545.js","sources":["../../../node_modules/.pnpm/pixi.js@8.8.1/node_modules/pixi.js/lib/scene/particle-container/shared/utils/generateParticleUpdateFunction.mjs"],"sourcesContent":["import { getAttributeInfoFromFormat } from '../../../../rendering/renderers/shared/geometry/utils/getAttributeInfoFromFormat.mjs';\n\n\"use strict\";\nfunction generateParticleUpdateFunction(properties) {\n  return {\n    dynamicUpdate: generateUpdateFunction(properties, true),\n    staticUpdate: generateUpdateFunction(properties, false)\n  };\n}\nfunction generateUpdateFunction(properties, dynamic) {\n  const funcFragments = [];\n  funcFragments.push(`\n      \n        var index = 0;\n\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const p = ps[i];\n\n            `);\n  let offset = 0;\n  for (const i in properties) {\n    const property = properties[i];\n    if (dynamic !== property.dynamic)\n      continue;\n    funcFragments.push(`offset = index + ${offset}`);\n    funcFragments.push(property.code);\n    const attributeInfo = getAttributeInfoFromFormat(property.format);\n    offset += attributeInfo.stride / 4;\n  }\n  funcFragments.push(`\n            index += stride * 4;\n        }\n    `);\n  funcFragments.unshift(`\n        var stride = ${offset};\n    `);\n  const functionSource = funcFragments.join(\"\\n\");\n  return new Function(\"ps\", \"f32v\", \"u32v\", functionSource);\n}\n\nexport { generateParticleUpdateFunction };\n//# sourceMappingURL=generateParticleUpdateFunction.mjs.map\n"],"names":["generateParticleUpdateFunction","properties","generateUpdateFunction","dynamic","funcFragments","offset","i","property","attributeInfo","getAttributeInfoFromFormat","functionSource"],"mappings":";AAGA,SAASA,EAA+BC,GAAY;AAClD,SAAO;AAAA,IACL,eAAeC,EAAuBD,GAAY,EAAI;AAAA,IACtD,cAAcC,EAAuBD,GAAY,EAAK;AAAA,EAC1D;AACA;AACA,SAASC,EAAuBD,GAAYE,GAAS;AACnD,QAAMC,IAAgB,CAAA;AACtB,EAAAA,EAAc,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAQR;AACX,MAAIC,IAAS;AACb,aAAWC,KAAKL,GAAY;AAC1B,UAAMM,IAAWN,EAAWK,CAAC;AAC7B,QAAIH,MAAYI,EAAS;AACvB;AACF,IAAAH,EAAc,KAAK,oBAAoBC,CAAM,EAAE,GAC/CD,EAAc,KAAKG,EAAS,IAAI;AAChC,UAAMC,IAAgBC,EAA2BF,EAAS,MAAM;AAChE,IAAAF,KAAUG,EAAc,SAAS;AAAA,EAClC;AACD,EAAAJ,EAAc,KAAK;AAAA;AAAA;AAAA,KAGhB,GACHA,EAAc,QAAQ;AAAA,uBACDC,CAAM;AAAA,KACxB;AACH,QAAMK,IAAiBN,EAAc,KAAK;AAAA,CAAI;AAC9C,SAAO,IAAI,SAAS,MAAM,QAAQ,QAAQM,CAAc;AAC1D;","x_google_ignoreList":[0]}