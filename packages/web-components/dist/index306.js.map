{"version":3,"file":"index306.js","sources":["../../../node_modules/.pnpm/@pixi+utils@7.4.3/node_modules/@pixi/utils/lib/media/getCanvasBoundingBox.mjs"],"sourcesContent":["import { BoundingBox } from \"./BoundingBox.mjs\";\nfunction checkRow(data, width, y) {\n  for (let x = 0, index = 4 * y * width; x < width; ++x, index += 4)\n    if (data[index + 3] !== 0)\n      return !1;\n  return !0;\n}\nfunction checkColumn(data, width, x, top, bottom) {\n  const stride = 4 * width;\n  for (let y = top, index = top * stride + 4 * x; y <= bottom; ++y, index += stride)\n    if (data[index + 3] !== 0)\n      return !1;\n  return !0;\n}\nfunction getCanvasBoundingBox(canvas) {\n  const { width, height } = canvas, context = canvas.getContext(\"2d\", {\n    willReadFrequently: !0\n  });\n  if (context === null)\n    throw new TypeError(\"Failed to get canvas 2D context\");\n  const data = context.getImageData(0, 0, width, height).data;\n  let left = 0, top = 0, right = width - 1, bottom = height - 1;\n  for (; top < height && checkRow(data, width, top); )\n    ++top;\n  if (top === height)\n    return BoundingBox.EMPTY;\n  for (; checkRow(data, width, bottom); )\n    --bottom;\n  for (; checkColumn(data, width, left, top, bottom); )\n    ++left;\n  for (; checkColumn(data, width, right, top, bottom); )\n    --right;\n  return ++right, ++bottom, new BoundingBox(left, top, right, bottom);\n}\nexport {\n  getCanvasBoundingBox\n};\n//# sourceMappingURL=getCanvasBoundingBox.mjs.map\n"],"names":["checkRow","data","width","y","x","index","checkColumn","top","bottom","stride","getCanvasBoundingBox","canvas","height","context","left","right","BoundingBox"],"mappings":";AACA,SAASA,EAASC,GAAMC,GAAOC,GAAG;AAChC,WAASC,IAAI,GAAGC,IAAQ,IAAIF,IAAID,GAAOE,IAAIF,GAAO,EAAEE,GAAGC,KAAS;AAC9D,QAAIJ,EAAKI,IAAQ,CAAC,MAAM;AACtB,aAAO;AACX,SAAO;AACT;AACA,SAASC,EAAYL,GAAMC,GAAOE,GAAGG,GAAKC,GAAQ;AAChD,QAAMC,IAAS,IAAIP;AACnB,WAASC,IAAII,GAAKF,IAAQE,IAAME,IAAS,IAAIL,GAAGD,KAAKK,GAAQ,EAAEL,GAAGE,KAASI;AACzE,QAAIR,EAAKI,IAAQ,CAAC,MAAM;AACtB,aAAO;AACX,SAAO;AACT;AACA,SAASK,EAAqBC,GAAQ;AACpC,QAAM,EAAE,OAAAT,GAAO,QAAAU,MAAWD,GAAQE,IAAUF,EAAO,WAAW,MAAM;AAAA,IAClE,oBAAoB;AAAA,EACxB,CAAG;AACD,MAAIE,MAAY;AACd,UAAM,IAAI,UAAU,iCAAiC;AACvD,QAAMZ,IAAOY,EAAQ,aAAa,GAAG,GAAGX,GAAOU,CAAM,EAAE;AACvD,MAAIE,IAAO,GAAGP,IAAM,GAAGQ,IAAQb,IAAQ,GAAGM,IAASI,IAAS;AAC5D,SAAOL,IAAMK,KAAUZ,EAASC,GAAMC,GAAOK,CAAG;AAC9C,MAAEA;AACJ,MAAIA,MAAQK;AACV,WAAOI,EAAY;AACrB,SAAOhB,EAASC,GAAMC,GAAOM,CAAM;AACjC,MAAEA;AACJ,SAAOF,EAAYL,GAAMC,GAAOY,GAAMP,GAAKC,CAAM;AAC/C,MAAEM;AACJ,SAAOR,EAAYL,GAAMC,GAAOa,GAAOR,GAAKC,CAAM;AAChD,MAAEO;AACJ,SAAO,EAAEA,GAAO,EAAEP,GAAQ,IAAIQ,EAAYF,GAAMP,GAAKQ,GAAOP,CAAM;AACpE;","x_google_ignoreList":[0]}