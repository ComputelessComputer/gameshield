{"version":3,"file":"index634.js","sources":["../../../node_modules/.pnpm/side-channel-weakmap@1.0.2/node_modules/side-channel-weakmap/index.js"],"sourcesContent":["'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\nvar getSideChannelMap = require('side-channel-map');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\n\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => V} */\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K, value: V) => void} */\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapDelete = callBound('WeakMap.prototype.delete', true);\n\n/** @type {import('.')} */\nmodule.exports = $WeakMap\n\t? /** @type {Exclude<import('.'), false>} */ function getSideChannelWeakMap() {\n\t\t/** @typedef {ReturnType<typeof getSideChannelWeakMap>} Channel */\n\t\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t\t/** @type {WeakMap<K & object, V> | undefined} */ var $wm;\n\t\t/** @type {Channel | undefined} */ var $m;\n\n\t\t/** @type {Channel} */\n\t\tvar channel = {\n\t\t\tassert: function (key) {\n\t\t\t\tif (!channel.has(key)) {\n\t\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t\t}\n\t\t\t},\n\t\t\t'delete': function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapDelete($wm, key);\n\t\t\t\t\t}\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif ($m) {\n\t\t\t\t\t\treturn $m['delete'](key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tget: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn $m && $m.get(key);\n\t\t\t},\n\t\t\thas: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!$m && $m.has(key);\n\t\t\t},\n\t\t\tset: function (key, value) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif (!$wm) {\n\t\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t\t}\n\t\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif (!$m) {\n\t\t\t\t\t\t$m = getSideChannelMap();\n\t\t\t\t\t}\n\t\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\t\t/** @type {NonNullable<typeof $m>} */ ($m).set(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// @ts-expect-error TODO: figure out why this is erroring\n\t\treturn channel;\n\t}\n\t: getSideChannelMap;\n"],"names":["GetIntrinsic","require$$0","callBound","require$$1","inspect","require$$2","getSideChannelMap","require$$3","$TypeError","require$$4","$WeakMap","$weakMapGet","$weakMapSet","$weakMapHas","$weakMapDelete","sideChannelWeakmap","$wm","$m","channel","key","value"],"mappings":";;;;;AAEA,IAAIA,IAAeC,GACfC,IAAYC,GACZC,IAAUC,GACVC,IAAoBC,GAEpBC,IAAaC,GACbC,IAAWV,EAAa,aAAa,EAAI,GAGzCW,IAAcT,EAAU,yBAAyB,EAAI,GAErDU,IAAcV,EAAU,yBAAyB,EAAI,GAErDW,IAAcX,EAAU,yBAAyB,EAAI,GAErDY,IAAiBZ,EAAU,4BAA4B,EAAI,GAG/Da,IAAiBL;AAAA;AAAA,EAC6B,WAAiC;AAK3B,QAAIM,GACfC,GAGnCC,IAAU;AAAA,MACb,QAAQ,SAAUC,GAAK;AACtB,YAAI,CAACD,EAAQ,IAAIC,CAAG;AACnB,gBAAM,IAAIX,EAAW,mCAAmCJ,EAAQe,CAAG,CAAC;AAAA,MAErE;AAAA,MACD,QAAU,SAAUA,GAAK;AACxB,YAAIT,KAAYS,MAAQ,OAAOA,KAAQ,YAAY,OAAOA,KAAQ;AACjE,cAAIH;AACH,mBAAOF,EAAeE,GAAKG,CAAG;AAAA,mBAErBb,KACNW;AACH,iBAAOA,EAAG,OAAUE,CAAG;AAGzB,eAAO;AAAA,MACP;AAAA,MACD,KAAK,SAAUA,GAAK;AACnB,eAAIT,KAAYS,MAAQ,OAAOA,KAAQ,YAAY,OAAOA,KAAQ,eAC7DH,IACIL,EAAYK,GAAKG,CAAG,IAGtBF,KAAMA,EAAG,IAAIE,CAAG;AAAA,MACvB;AAAA,MACD,KAAK,SAAUA,GAAK;AACnB,eAAIT,KAAYS,MAAQ,OAAOA,KAAQ,YAAY,OAAOA,KAAQ,eAC7DH,IACIH,EAAYG,GAAKG,CAAG,IAGtB,CAAC,CAACF,KAAMA,EAAG,IAAIE,CAAG;AAAA,MACzB;AAAA,MACD,KAAK,SAAUA,GAAKC,GAAO;AAC1B,QAAIV,KAAYS,MAAQ,OAAOA,KAAQ,YAAY,OAAOA,KAAQ,eAC5DH,MACJA,IAAM,IAAIN,MAEXE,EAAYI,GAAKG,GAAKC,CAAK,KACjBd,MACLW,MACJA,IAAKX,EAAiB,IAGgBW,EAAI,IAAIE,GAAKC,CAAK;AAAA,MAE1D;AAAA,IACJ;AAGE,WAAOF;AAAA,EACP;AAAA,IACCZ;","x_google_ignoreList":[0]}