'use strict';var react=require('react'),core=require('@gameshield/core'),jsxRuntime=require('react/jsx-runtime');var M=react.forwardRef(function({gameType:o="random",size:e="400px",difficulty:a="medium",onSuccess:t,onFailure:u,onTimeout:n,className:d,style:l},m){let i=react.useRef(null),r=react.useRef(null),c=typeof e=="number"?`${e}px`:e;return react.useImperativeHandle(m,()=>({reset:()=>{r.current&&r.current.reset();}})),react.useEffect(()=>{if(i.current)return r.current=core.createGameShield({container:i.current,gameType:o,size:e,difficulty:a,onSuccess:t,onFailure:u,onTimeout:n}),()=>{r.current&&(r.current.destroy(),r.current=null);}},[o,e,a,t,u,n]),jsxRuntime.jsx("div",{className:`gameshield-container ${d||""}`,style:{width:c,maxWidth:"500px",aspectRatio:"1/1",position:"relative",overflow:"hidden",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",...l},children:jsxRuntime.jsx("div",{ref:i,className:"gameshield-content aspect-square",style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#1a1a1a"}})})});function W(g={}){let o=react.useRef(null),e=react.useRef(null),[a,t]=react.useState(false),[u,n]=react.useState(false),[d,l]=react.useState(null),[m,i]=react.useState(null),{gameType:r="random",size:c="400px",difficulty:y="medium",onSuccess:p,onFailure:h,onTimeout:S}=g,x=react.useCallback(()=>{t(true),n(false),l(null),i(null),e.current&&e.current.reset();},[]);return react.useEffect(()=>{if(!o.current)return;t(true),n(false),l(null),i(null);let b=s=>{t(false),n(true),l(s),p&&p(s);},T=s=>{t(false),n(false),i(s),h&&h(s);},V=()=>{t(false),n(false),i("Verification timed out"),S&&S();};return e.current=core.createGameShield({container:o.current,gameType:r,size:c,difficulty:y,onSuccess:b,onFailure:T,onTimeout:V}),()=>{e.current&&(e.current.destroy(),e.current=null);}},[r,c,y,p,h,S]),{ref:o,isVerifying:a,isVerified:u,token:d,error:m,reset:x}}exports.GameShield=M;exports.useGameShield=W;//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map